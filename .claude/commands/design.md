# /design - è¨­è¨ˆè©³ç´°è¦æ ¼

ä½ éœ€è¦ç‚ºä¸€å€‹ Spike Issue è¨­è¨ˆè©³ç´°è¦æ ¼ã€‚

## åƒæ•¸

```
Issue Number: $ARGUMENTS
```

## æ­¥é©Ÿ 1ï¼šè®€å– Spike Issue

```bash
gh issue view $ARGUMENTS
```

## æ­¥é©Ÿ 2ï¼šç”¨ Snapshot å®šä½ç›¸é—œç¨‹å¼ç¢¼

**å…ˆè®€å– Snapshot äº†è§£æ¶æ§‹ï¼Œä¸è¦ç›´æ¥æœå°‹ï¼**

```bash
# 1. è®€å–å°ˆæ¡ˆç¸½è¦½
cat .snapshots/index.json
```

æ ¹æ“š Spike Issue çš„å…§å®¹ï¼ŒæŸ¥çœ‹ `quickNav` æ‰¾åˆ°ç›¸é—œ snapshotã€‚

ç„¶å¾Œè®€å– quickNav æŒ‡ç¤ºçš„ snapshot æª”æ¡ˆï¼Œäº†è§£ï¼š
- ç¾æœ‰æ¨¡çµ„çµæ§‹
- ç›¸é—œæª”æ¡ˆä½ç½®
- æ‡‰è©²åœ¨å“ªè£¡æ–°å¢/ä¿®æ”¹

## æ­¥é©Ÿ 3ï¼šäº†è§£ç¾æœ‰è¦æ ¼

è®€å– STATE æ–‡ä»¶äº†è§£ç³»çµ±è¦æ ¼ï¼š

```bash
# ç¾æœ‰ API
cat STATE/api-contract.yaml

# ç¾æœ‰åŠŸèƒ½
cat STATE/spec.md

# ç³»çµ±ç¸½è¦½
cat STATE/overview.md
```

## æ­¥é©Ÿ 4ï¼šè¨­è¨ˆè©³ç´°è¦æ ¼

æ ¹æ“š Spike Issue çš„éœ€æ±‚ï¼Œè¨­è¨ˆä»¥ä¸‹å…§å®¹ï¼š

1. **åŠŸèƒ½æ¦‚è¿°**ï¼šåšä»€éº¼ã€ç‚ºä»€éº¼
2. **API Contract**ï¼šæ–°å¢/ä¿®æ”¹çš„ API ç«¯é»
3. **è³‡æ–™çµæ§‹**ï¼šæ–°å¢/ä¿®æ”¹çš„è³‡æ–™æ¨¡å‹
4. **æµç¨‹èªªæ˜**ï¼šä¸»è¦æµç¨‹æ­¥é©Ÿ
5. **UI è¨­è¨ˆ**ï¼ˆå¦‚æœ‰ï¼‰ï¼šé é¢/å…ƒä»¶è®Šæ›´
6. **æ¸¬è©¦ç­–ç•¥**ï¼šå¦‚ä½•é©—è­‰

## æ­¥é©Ÿ 5ï¼šç”¢å‡ºè¦åŠƒæ–‡ä»¶

å°‡è¨­è¨ˆå¯«å…¥ `STATE/developing/xxx.md`ï¼š

```markdown
# [åŠŸèƒ½åç¨±] è¨­è¨ˆè¦æ ¼

> Spike Issue: #123
> å»ºç«‹æ—¥æœŸï¼šYYYY-MM-DD
> æœ€å¾Œæ›´æ–°ï¼šYYYY-MM-DD

## åŠŸèƒ½æ¦‚è¿°

### ç›®æ¨™
åšå®Œå¾Œç³»çµ±æœƒè®Šæˆä»€éº¼æ¨£ï¼Ÿ

### éç›®æ¨™
é€™æ¬¡ä¸åšä»€éº¼ï¼Ÿ

## API Contract

### æ–°å¢ API

#### POST /api/xxx
- **æè¿°**ï¼šåšä»€éº¼
- **Request Body**ï¼š
  ```yaml
  field1: string
  field2: number
  ```
- **Response**ï¼š
  ```yaml
  id: string
  createdAt: string
  ```

### ä¿®æ”¹ API
ï¼ˆå¦‚æœ‰ï¼‰

## è³‡æ–™çµæ§‹

### æ–°å¢ Model
```prisma
model Xxx {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
}
```

## æµç¨‹èªªæ˜

```
1. ç”¨æˆ¶æ“ä½œ â†’
2. å‰ç«¯å‘¼å« API â†’
3. å¾Œç«¯è™•ç† â†’
4. å›å‚³çµæœ
```

## UI è¨­è¨ˆ

### é é¢è®Šæ›´
- `/xxx` - æ–°é é¢ï¼Œåšä»€éº¼

### å…ƒä»¶è®Šæ›´
- `XxxComponent` - æ–°å…ƒä»¶ï¼Œåšä»€éº¼

## æ¸¬è©¦ç­–ç•¥

### å–®å…ƒæ¸¬è©¦
- `XxxService.test.ts` - æ¸¬ä»€éº¼

### E2E æ¸¬è©¦
- æ–°å¢ `xxx.spec.ts` - æ¸¬ä»€éº¼æµç¨‹

## å¯¦ä½œåˆ†å·¥å»ºè­°

é€™å€‹åŠŸèƒ½å¯ä»¥æ‹†æˆä»¥ä¸‹ç¨ç«‹ä»»å‹™ï¼š

| ä»»å‹™ | ç¯„åœ | å¯å¹³è¡Œ |
|------|------|--------|
| å¾Œç«¯ API | scope:backend | æ˜¯ |
| å‰ç«¯ UI | scope:frontend | æ˜¯ï¼ˆç­‰ API å®Œæˆå¾Œæ•´åˆï¼‰ |
| æ¸¬è©¦ | scope:test | å¦ï¼ˆç­‰å¯¦ä½œå®Œæˆï¼‰ |
```

## æ­¥é©Ÿ 6ï¼šæ›´æ–° Spike Issue

```bash
gh issue comment $ARGUMENTS --body "$(cat <<'EOF'
è¨­è¨ˆå®Œæˆï¼

ğŸ“ è¦åŠƒæ–‡ä»¶ï¼šSTATE/developing/xxx.md

ä¸‹ä¸€æ­¥ï¼šåŸ·è¡Œ `/breakdown #$ARGUMENTS` æ‹†åˆ†ä»»å‹™
EOF
)"
```

## æ­¥é©Ÿ 7ï¼šå‘ŠçŸ¥ç”¨æˆ¶

```
è¨­è¨ˆå®Œæˆï¼

ğŸ“ è¦åŠƒæ–‡ä»¶ï¼šSTATE/developing/xxx.md

ä¸‹ä¸€æ­¥ï¼šåŸ·è¡Œ `/breakdown #<issue-number>` æ‹†åˆ†ä»»å‹™
```
